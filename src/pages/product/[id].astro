---
import { Card, Col, Row } from "antd";
import AddToCartForm from "../../components/product/AddToCartForm";
import Layout from "../../layouts/Layout.astro";
import type { IProduct } from "../../types/product";

const { id } = Astro.params;
// const response = await fetch('https://fakestoreapi.com/products/' + {id});
// const product = (await response.json()) as IProduct;

console.log("id is", id);
const response = await fetch('https://fakestoreapi.com/products/' + id);
const product = (await response.json()) as IProduct;
---

<Layout title={`Prdouct is ${id}`} pageName="about">
  <div class="container">
    <div class="mt-5 page details">
      <h1>Product is {product?.title}</h1>
      <Row gutter={[20, 20]}>
        <Col xs={{ span: 24 }} md={{ span: 8 }}>
          <div class="details__image">
            <img src={product?.image} alt={product?.title}>
          </div>
        </Col>
        <Col xs={{ span: 24 }} md={{ span: 16 }}>
          <div class="details__actions">
            <AddToCartForm client:load />
          </div>
          <div class="details__description">
            <p>{product.description}</p>
          </div>
        </Col>
      </Row>
    </div>
  </div>
</Layout>
<style lang="scss">
.details {
  &__image {
    width: 100%;
    height: 40rem;
    margin-top: 3rem;

    img {
      display: block;
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
  }

  &__description {
    margin-top: 3rem;
  }

  &__actions {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
  }
}
</style>